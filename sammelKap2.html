<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="stylesheet"
      href="https://p5-sketches-demo.netlify.app/style.css"
    />
    <link rel="stylesheet" href="style.css" />
    <script>
      window.addEventListener("message", (event) => {
        if (event.data?.type === "resize-iframe") {
          const iframes = document.querySelectorAll("iframe");
          for (const iframe of iframes) {
            // Pr√ºfen, ob Nachricht von diesem iframe kam
            if (iframe.contentWindow === event.source) {
              iframe.style.width = event.data.width + "px";
              iframe.style.height = event.data.height + "px";
            }
          }
        }
      });
    </script>
  </head>
  <body>
    <!-- Info - Aktiver Modus und Interaktion -->
    <details class="top">
      <summary id="info">Aktiver Modus und Interaktion</summary>
      <!-- statischer vs aktiver Modus -->
      <details class="box-info">
        <summary>üåÄ Statischer vs. Aktiver Modus</summary>
        <p>
          Bisher haben wir nur im statischen Modus programmiert. Im
          <strong>statischen Modus</strong> werden alle Anweisungen einmal
          ausgef√ºhrt und das Programm anschlie√üend beendet.
        </p>
        <pre>
size(200, 200);
background(255);
ellipse(100, 100, 80, 80);</pre
        >
        <div>
          <br />
          <p>
            Wir wollen jetzt Programme schreiben, die Animationen darstellen
            oder auf Nutzereingaben reagieren. Hierf√ºr ben√∂tigen wir den
            <strong>aktiven Modus</strong> von Processing.
          </p>
          <ul>
            <li>
              Der aktive Modus nutzt die beiden Funktionen
              <strong><code>setup()</code></strong> und
              <strong><code>draw()</code></strong>
            </li>
            <li>
              Die Anweisungen in der <code>setup()-Funktion</code> werden
              <strong>einmal beim Start ausgef√ºhrt</strong>
            </li>
            <li>
              Die Anweisungen in der <code>draw()-Funktion</code> werden
              <strong>in einer Schleife immer wiederholt ausgef√ºhrt</strong>.
              Standardm√§√üig mit 60 FPS (Frames Per Second).
            </li>
          </ul>
          <pre>
void setup() {
  size(200, 200);
}

void draw() {
  background(255);
  fill(100, 150, 200);
  ellipse(mouseX, mouseY, 80, 80);
}</pre
          >

          <ul class="box-warning">
            <li>
              Es gibt Befehle wie <code>size(x, y)</code>, die nur einmal
              aufgerufen werden d√ºrfen. Daher m√ºssen die Befehle in die
              <code>setup()-Funktion</code>
            </li>
            <li>
              Damit das Programm in einer Schleife immer weiter l√§uft, braucht
              es eine <code>draw()-Funktion</code>. Diese darf auch leer sein.
            </li>
          </ul>
          <br />
          <iframe
            src="https://p5-sketches-demo.netlify.app/template.html?sketch=sketchActiveStatic"
            style="border: none"
          ></iframe>
        </div>
      </details>

      <!-- SYSTEMVARIABLEN -->
      <details class="box-info">
        <summary>
          üß≠ Systemvariablen: <code>width</code>, <code>height</code>,
          <code>key</code>, <code>keyCode</code>, <code>mouseX</code>,
          <code>mouseY</code>
        </summary>
        <p>
          Systemvariablen sind Variablen, die Processing bereitstellt. Darin
          sind unter anderem die Gr√∂√üe des Zeichenfensters, die Mauskoordinaten
          oder die zuletzt gedr√ºckten Tasten auf der Tastatur gespeichert.
        </p>
        <ul>
          <li><strong>width</strong>: Aktuelle Breite des Zeichenfensters.</li>
          <li><strong>height</strong>: Aktuelle H√∂he des Zeichenfensters.</li>
          <li>
            <strong>mouseX</strong>: Aktuelle X-Position der Maus relativ zum
            Canvas.
          </li>
          <li>
            <strong>mouseY</strong>: Aktuelle Y-Position der Maus relativ zum
            Canvas.
          </li>
          <li>
            <strong>key</strong>: Zeichen der gedr√ºckten Taste (z.‚ÄØB.
            <code>'a'</code>, <code>'Z'</code>).
          </li>
          <li>
            <strong>keyCode</strong>: Code der gedr√ºckten Taste ‚Äì n√∂tig f√ºr
            Sondertasten wie <code>UP_ARROW</code>, <code>ENTER</code>,
            <code>SHIFT</code>.
          </li>
        </ul>
        <p>
          Ein Beispiel mit den Systemvariablen <code>width</code> und
          <code>height</code>
        </p>
        <pre>
void setup() {
  size(300, 200);
  ellipse(width/2, height/2, 50, 50);
  fill(0);
  textAlign(CENTER, CENTER);
  textSize(12);
  text("Mittelpunkt: width/2, height/2", width/2, height/2 + 40);
}
  </pre
        >
        <div id="sketch-width-height" class="sketch"></div>
        <iframe
          src="https://p5-sketches-demo.netlify.app/template.html?sketch=sketchWidthHeight"
        ></iframe>
      </details>

      <!-- mausinteraktion -->
      <details class="box-info">
        <summary>
          üñ±Ô∏è Mausinteraktion: mousePressed() und mouseReleased()
        </summary>
        <ul>
          <li>
            <code>mousePressed()</code>: wird aufgerufen, wenn eine Maustaste
            gedr√ºckt wird
          </li>
          <li>
            <code>mouseReleased()</code>: wird aufgerufen, wenn die Maustaste
            losgelassen wird
          </li>
        </ul>
        <pre>
void setup() {
  size(200, 200);
  background(220);
}

void draw() {
  // leer
}

void mousePressed() {
  fill(0);
  ellipse(mouseX, mouseY, 20, 20);
}

void mouseReleased() {
  fill(255, 0, 0);
  rect(mouseX - 10, mouseY - 10, 20, 20);
}</pre
        >
        <iframe
          src="https://p5-sketches-demo.netlify.app/template.html?sketch=sketchMousePressed"
          style="border: none"
        ></iframe>
      </details>

      <!-- Tastaturinteraktion -->
      <details class="box-info">
        <summary>
          ‚å®Ô∏è Tastaturinteraktion: keyPressed() und keyReleased()
        </summary>
        <ul>
          <li>
            <code>keyPressed()</code>: wird ausgef√ºhrt, wenn eine Taste gedr√ºckt
            wird
          </li>
          <li>
            <code>keyReleased()</code>: wird ausgef√ºhrt, wenn die Taste
            losgelassen wird
          </li>
        </ul>
        <p class="">Beispiel 1: üéπ <strong>Taste anzeigen</strong></p>
        <pre>
void setup() {
  size(200, 200);
  background(240);
}

void draw() {
  // leer
}

void keyPressed() {
  fill(0);
  textSize(20);
  text("Taste: " + key, 50, 100);
}

void keyReleased() {
  println("Losgelassen: " + key);
}</pre
        >
        <iframe
          src="https://p5-sketches-demo.netlify.app/template.html?sketch=sketchKeyPressed"
          style="border: none"
        ></iframe>
        <p>Beispiel 2: üéπ <strong>Tastendruck ver√§ndert Farbe</strong></p>
        <pre>
void setup() {
  size(200, 200);
  background(240);
}

void draw() {
  // leer
}

void keyPressed() { 
  background(random(255, random(255), random(255)); 
}</pre
        >
        <iframe
          src="https://p5-sketches-demo.netlify.app/template.html?sketch=sketchKeyPress"
        ></iframe>
      </details>
    </details>

    <!-- Commands - AKTIVER MODUS (GRUNDGER√úSTE) -->
    <details class="top">
      <summary id="command">‚öôÔ∏èGrundger√ºste f√ºr den aktiven Modus</summary>
      <div class="box-command">
        <p>‚öôÔ∏è Aktiver Modus: setup() & draw()</p>
        <pre><code>
function setup() {
  createCanvas(400, 400);
}

function draw() {
  background(220);
  // dein Code hier
}
  </code></pre>

        <!-- MAUSINTERAKTION -->

        <p>üñ±Ô∏è Mausinteraktion: mousePressed() & mouseReleased()</p>
        <pre><code>
function mousePressed() {
  // Wird aufgerufen, wenn die Maustaste gedr√ºckt wird
}

function mouseReleased() {
  // Wird aufgerufen, wenn die Maustaste losgelassen wird
}
  </code></pre>

        <!-- TASTATURINTERAKTION -->

        <p>‚å®Ô∏è Tastaturinteraktion: keyPressed() & keyReleased()</p>
        <pre><code>
function keyPressed() {
  // Wird aufgerufen, wenn eine Taste gedr√ºckt wird
}

function keyReleased() {
  // Wird aufgerufen, wenn die Taste losgelassen wird
}
  </code></pre>
      </div>
    </details>
  </body>
</html>
